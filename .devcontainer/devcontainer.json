{
  // A display name for the container.
  "name": "herculesproject-sgi",
  // Image base, later versions won't contain a compatible OpenSSL version and is needed for HMR
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu-24.04",
  "features": {
    "ghcr.io/devcontainers/features/java:1": {
      "version": "21",
      "additionalVersions": "8",
      "jdkDistro": "tem",
      "installAnt": "false",
      "installGradle": "false",
      "installMaven": "true"
    },
    "ghcr.io/devcontainers/features/node:1": {
      "version": "14",
      "nodeGypDependencies": "false",
      "pnpmVersion": "none"
    },
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },
  // On Linux, the container user's UID/GID will be updated to match your local user.
  "updateRemoteUserUID": true,
  // A set of name-value pairs that sets or overrides environment variables for the container.
  "containerEnv": {
    // Timezone
    "TZ": "Europe/Madrid"
  },
  // A command to run when creating the container. This command is run after "initializeCommand" and before "updateContentCommand". 
  // If this is a single string, it will be run in a shell. If this is an array of strings, it will be run as a single command without shell. 
  // If this is an object, each provided command will be run in parallel.
  "onCreateCommand": [
    "/bin/bash",
    "-i",
    "./.devcontainer/onCreate.sh"
  ],
  "customizations": {
    "vscode": {
      // An array of extension IDs that specify the extensions that should be installed inside the container when it is created.
      "extensions": [
        /* 
         * COMMON
         */
        // History support
        "xyz.local-history",
        // SonarQube
        "SonarSource.sonarlint-vscode",
        // GIT graph
        "mhutchie.git-graph",
        // GIT integration on editor
        "eamodio.gitlens",
        // Dockerfile extension
        "ms-azuretools.vscode-docker",
        // YAML support
        "redhat.vscode-yaml",
        // Github actions extensions
        "github.vscode-github-actions",
        /*
         * BACKEND
         */
        // Java supoort pack
        "vscjava.vscode-java-pack",
        // Lombok suppport
        "vscjava.vscode-lombok",
        // Spring boot support
        "vmware.vscode-boot-dev-pack",
        // Decompile java 
        "dgileadi.java-decompiler",
        // Generate javaDoc
        "madhavd1.javadoc-tools",
        // Validate XML
        "redhat.vscode-xml",
        // Syntax highlighting for JSLT
        "jarno-rajala.jslt-lang",
        /*
         * FRONTEND
         */
        // Angular support
        "Angular.ng-template",
        // TSLint
        "ms-vscode.vscode-typescript-tslint-plugin",
      ],
      // Adds default settings.json values into a container/machine specific settings file.
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.profiles.linux": {
          "bash": {
            "path": "/bin/bash",
            "args": [
              "-i"
            ]
          }
        },
        // Disable nullAnalysis because sometimes break compilation of annotations, in our case the Constraint annotations. https://github.com/microsoft/vscode-java-debug/issues/1247
        "java.compile.nullAnalysis.mode": "disabled",
        // Custom local history path
        "local-history.path": "/tmp",
        // Show control characters
        "editor.renderControlCharacters": true,
        // Do not use current file indentation
        "editor.detectIndentation": false,
        // Use 2 characters for tabs
        "editor.tabSize": 2,
        // Format code on paste
        "editor.formatOnPaste": true,
        // Format code on file save
        "editor.formatOnSave": true,
        // Format code while typing
        "editor.formatOnType": true,
        // Disable preview editor
        "workbench.editor.enablePreview": false,
        // Disable automatic port forwarding
        "remote.autoForwardPorts": false,
        // Disable paid features
        "gitlens.plusFeatures.enabled": false,
        // Force organize imports on Saves
        "editor.codeActionsOnSave": {
          "source.organizeImports": "explicit"
        }
      }
    }
  }
}