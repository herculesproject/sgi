[
  {
    "key": "ap4_3_1",
    "wrappers": [
      "title-div"
    ],
    "templateOptions": {
      "label": "4.3.1 Vaccination"
    },
    "fieldGroup": [
      {
        "template": "<p>What vaccination is offered to personnel who will handle biological agents, genetically modified organisms, hazardous chemicals, radioactive substances and/or nanoparticles?</p>"
      },
      {
        "key": "vacunacionCheck",
        "type": "multicheckbox",
        "templateOptions": {
          "label": "Which",
          "required": true,
          "type": "array",
          "options": [
            {
              "value": "tetanos",
              "label": "Tetanus"
            },
            {
              "value": "hepatitis",
              "label": "Hepatitis"
            },
            {
              "value": "otras",
              "label": "Others"
            },
            {
              "value": "noNecesariaVacunacion",
              "label": "Vaccination is not necessary"
            }
          ]
        },
        "validators": {
          "validation": [
            {
              "name": "multicheckbox-restricted",
              "options": {
                "message": "The answers \"${option1}\" and \"${option2}\" are not compatible.",
                "restrictions": {
                  "notValidCombinations": [
                    {
                      "option": "tetanos",
                      "incompatibleOptions": [
                        "noNecesariaVacunacion"
                      ]
                    },
                    {
                      "option": "hepatitis",
                      "incompatibleOptions": [
                        "noNecesariaVacunacion"
                      ]
                    },
                    {
                      "option": "otras",
                      "incompatibleOptions": [
                        "noNecesariaVacunacion"
                      ]
                    },
                    {
                      "option": "noNecesariaVacunacion",
                      "incompatibleOptions": [
                        "tetanos",
                        "hepatitis",
                        "otras"
                      ]
                    }
                  ]
                }
              }
            }
          ]
        }
      },
      {
        "key": "otrasTexto",
        "type": "textarea",
        "hideExpression": "!model.vacunacionCheck || !model.vacunacionCheck.some((c) => c === 'otras') || model.vacunacionCheck.some((c) => c === 'noNecesariaVacunacion')",
        "templateOptions": {
          "placeholder": "Please specify",
          "label": "Please specify",
          "required": true,
          "autosize": true,
          "autosizeMinRows": "1",
          "autosizeMaxRows": "10"
        }
      },
      {
        "key": "noNecesariaVacunacionTexto",
        "type": "textarea",
        "hideExpression": "!model.vacunacionCheck || model.vacunacionCheck.length>1 || !model.vacunacionCheck.some((c) => c === 'noNecesariaVacunacion')",
        "templateOptions": {
          "placeholder": "Justify",
          "label": "Justify",
          "required": true,
          "autosize": true,
          "autosizeMinRows": "1",
          "autosizeMaxRows": "10"
        }
      },
      {
        "template": "Agency responsible for vaccination",
        "hideExpression": "!model.vacunacionCheck || !model.vacunacionCheck.length>0 || model.vacunacionCheck.some((c) => c === 'noNecesariaVacunacion')"
      },
      {
        "key": "organismoSanitario",
        "type": "textarea",
        "hideExpression": "!model.vacunacionCheck || !model.vacunacionCheck.length>0 || model.vacunacionCheck.some((c) => c === 'noNecesariaVacunacion')",
        "templateOptions": {
          "label": "Agency:",
          "required": true,
          "autosize": true,
          "autosizeMinRows": "1",
          "autosizeMaxRows": "10"
        }
      }
    ]
  }
]